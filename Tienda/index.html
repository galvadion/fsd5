<!DOCTYPE html>
<html lang="en">

<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <title>E-Store single page layout | Script Tutorials</title>
    <meta charset="utf-8">

    <!-- Linking styles -->
    <link rel="stylesheet" href="css/reset.css" type="text/css" media="screen">
    <link rel="stylesheet" href="css/style.css" type="text/css" media="screen">
    <link rel="stylesheet" href="css/nivo-slider.css" type="text/css" media="screen">

    <!-- Linking scripts -->
    <script src="js/jquery.js"></script>
    <script src="js/jquery.nivo.slider.pack.js"></script>
    <script src="js/main.js"></script>

    <!--[if lt IE 9]>
    <script type="text/javascript" src="js/html5.js"></script>
    <![endif]-->
</head>

<body>

    <div class="container">

        <header>
            <!-- Defining the header section of the page -->

            <nav>
                <!-- Defining the navigation menu -->
                <ul>
                    <li class="selected"><a href="#">Home</a></li>
                    <li><a href="#">Specials</a></li>
                    <li><a href="#">All Products</a></li>
                    <li><a href="#">Contact us</a></li>
                    <li><a href="#">About</a></li>
                    <li><a href="http://www.script-tutorials.com/creating-new-html5css3-single-page-layout-e-store/">Back To Tutorial</a></li>
                </ul>
            </nav>


            <div class="top_head">
                <!-- Defining the top head element -->
                <div class="logo">
                    <!-- Defining the logo element -->
                    <a href="http://www.script-tutorials.com/">
                        <img src="images/logo.jpg" title="E-Store template" alt="E-Store template" />
                    </a>
                </div>

                <section id="search">
                    <!-- Search form -->
                    <form action="#" onsubmit="return false;" method="get">
                        <input type="text" id="searchBar" onfocus="if (this.cartLine =='Search..' ) this.cartLine=''" onblur="if (this.cartLine=='') this.cartLine='Search..'" cartLine="Search.." name="q">
                        <input type="submit" cartLine="Search">
                    </form>

                    <ul id="social">
                        <!-- Social profiles links -->
                        <li>
                            <a href="#" title="facebook" rel="external nofollow"><img alt="" src="images/facebook.png"></a>
                        </li>
                        <li>
                            <a href="#" title="twitter" rel="external nofollow"><img alt="" src="images/twitter.png"></a>
                        </li>
                        <li>
                            <a href="#" title="linkedin" rel="external nofollow"><img alt="" src="images/linkedin.png"></a>
                        </li>
                        <li>
                            <a href="#" title="rss" rel="external nofollow"><img alt="" src="images/rss.png"></a>
                        </li>
                    </ul>
                </section>
            </div>

            <section id="submenu">
                <!-- Defining the sub menu -->
                <ul id="categories-holder">
                </ul>
            </section>

        </header>

        <div id="slider">
            <!-- Defining the main content section -->

            <!-- Promo slider -->
            <section id="slider-wrapper">
                <div id="slider" class="nivoSlider">
                    <img style="display: none;" src="images/promo1.jpg" alt="" title="#htmlcaption-1">
                    <img style="display: none;" src="images/promo2.jpg" alt="" title="#htmlcaption-2">
                    <img style="display: none;" src="images/promo3.jpg" alt="" title="#htmlcaption-3">
                </div>
                <div id="htmlcaption-1" class="nivo-html-caption">
                    <h5 class="p2">Welcome to the our E-Shop</h5>
                    <p>Put any description here</p>
                </div>
                <div id="htmlcaption-1" class="nivo-html-caption">
                    <h5 class="p2">This is promo area</h5>
                    <p>Put any description here</p>
                </div>
                <div id="htmlcaption-2" class="nivo-html-caption">
                    <h5 class="p2">Where you can add any feature products</h5>
                    <p>Put any description here</p>
                </div>
                <div id="htmlcaption-3" class="nivo-html-caption">
                    <h5 class="p2">Or something else</h5>
                    <p>Put any description here</p>
                </div>
            </section>
        </div>

        <div id="main">
            <!-- Defining submain content section -->
            <section id="content">
                <!-- Defining the content section #2 -->
                <div id="left">
                    <h3>Last products</h3>
                    <div id='product-holder'>
                    </div>
                </div>
                <div id="right">
                    <h3>Mini cart</h3>
                    <ul id="cart-holder">

                    </ul>
                    <p>Total: $<span id="total-holder">0</span></p>
                </div>
            </section>
        </div>

        <footer>
            <!-- Defining the footer section of the page -->
            <div id="privacy">
                E-Store template © 2011 <a class="link" href="http://www.script-tutorials.com/">Privacy Policy</a><br />
                <a class="link" href="http://www.script-tutorials.com/creating-new-html5css3-single-page-layout-e-store/">Template by Script Tutorials</a>
            </div>
        </footer>
        <script src="js/domain/product.js"></script>
        <script src="js/domain/offer.js"></script>
        <script src="js/domain/categories.js"></script>
        <script src="js/domain/cart.js"></script>
        <script src="js/services/searchBar.js"></script>
        <script>
            //   Defino como constantes, los "holders" donde va a ir colocado   
            //    el código HTML que se generara de forma dinámica 
            const productHolder = document.getElementById('product-holder');
            //  const offerHolder = document.getElementById('offer-holder')
            const cartHolder = document.getElementById('cart-holder')
            const totalHolder = document.getElementById('total-holder')

            // inicializamos el total en 0
            let total = 0;

            // inicializamos una colección (array, lista, arreglo) de productos. Definida en otro archivo
            let products = initializeProducts()

            let filteredProducts = products;

            // Renderizamos los productos en pantalla, filtrando por aquellos que no tienen una oferta valida
            products
                .filter(product => !product.hasValidOffer())
                .forEach(product => {
                    productHolder.innerHTML += product.asInnerHTMLForMainList()
                })

            /* 
             products
                 .filter(product => product.hasValidOffer())
                 .forEach(product => {
                     offerHolder.innerHTML += product.asInnerHTMLForOfferList()
                 })
             */

            let cart = []

            document.getElementById('searchBar').addEventListener('keyup', searchProduct)
        </script>
    </div>
</body>

</html>